<div class="container">
    <div>
        <h1>{{ eventName }} - Live Feed</h1>
        <h3>{{ eventDescription }}</h3>
    </div>
    <div class="full-height-div">
        <div class="content-wrapper">
            <div class="map-renderer">
                <app-map-renderer #renderer></app-map-renderer>
            </div>
            <div class="feed">
                @if (eventLiveFeed) {
                <div class="participants">
                    <h3>Participants</h3>
                    @for (p of eventLiveFeed.simulationState.participants; track p.userId) {
                    <p [ngStyle]="{ 'backgroundColor': botColors[p.botId].toHexString() }">{{p.userId}} - Health: {{p.health}}</p>
                    }
                </div>
                <div class="log-container">
                    <cdk-virtual-scroll-viewport itemSize="20" class="viewport" #viewport (scroll)="onScroll(viewport)">
                        <div *cdkVirtualFor="let log of logs" class="log-entry">
                            {{ log }}
                        </div>
                    </cdk-virtual-scroll-viewport>
                </div>
                }
            </div>
        </div>
    </div>
</div>