Blog post 1 - 06/09/24
======================

Brief introduction on why I am doing this and what AIRO is. AIRO is my current project. It's supposed to include ideas from ANYbotics and Ev.

Today I'm going to work on the first user story for the AIRO consumer platform.

Free User registration
----------------------
	As a user I should be able to create a new free account on the AIRO consumer website
	I need to enter email and password
	I choose the free account
	I click "Sign Up"
		- IF no errors I should receive a confirmation email with a link to sign-in
		- IF errors I should see an error message
	I should be redirected to the home page	
	I should be able to see that I have a free account
	
	AC1: e2e tests 
		on successful signup 
		on failed signup
		
	AC2: unit tests for front-end/back-end code
	
Yesterday I did a step of initial analysis and identified some knowledge gap that I then fixed: 

	1) Setup microservices NestJs PoC with Docker/Docker compose and rabbitmq with gateway
	2) Firebase: activate/deactivate user(s)
	3) Cypress e2e in angular (docker)	

These are the tasks for today:

	DONE create firebase project "AIRO". Enabled email authentication. 
	DONE create 3 mock users
	DONE download firebase project settings. Project settings -> Service accounts -> Generate new private key
		Gitignored this file :)
	
	DONE gateway API, expose /signup endpoint
		Created docker file and added service to docker compose
	
	DONE create Postman collection "AIRO"
	
	DONE create users front-end, expose it via docker compose
	
	DONE cypress e2e tests
		ng add @cypress/schematic // https://testing-angular.com/end-to-end-testing/
			Would you like to add Cypress component testing?  This will add all files needed for Cypress component testing. A: Yes
	
	DONE import auth microservice
	
	DONE find a way to activate/deactivate user. This has been dealt yesterday. I need to find which API to add the code to.
		this feature is currently not available in C#

	DONE generate AIRO-config-volume
		docker run --rm -v airo-config-volume:/config -v "/c/Users/Giacomo Righetti/source/repos/AIRO/config:/source" alpine cp /source/airo-44ca7-firebase-adminsdk-etd4u-7107dcb929.json /config/airo-44ca7-firebase-adminsdk-etd4u-7107dcb929.json	
	
	DONE triyng to start auth microservice 
		issue with docker I suspect there is an issue with paths
		tried placing Program class with static Main still failing -> probably cannot find file
		tried moving project inside ANYbotics, fixed paths and it worked!
		
		trying to inspect the image content I noticed that /src contains lots of unnecessary stuff
			docker run -it image_name sh
			
		FIXED files that should be ignored according to .dockerignore are NOT being ignored		
			moved .dockerignore where docker-compose.yaml is
	
	DONE import front-end project from ANYbotics (login, layout, home page)	
		Re. Angular Material 
			Set up global Angular Material typography styles? no
			Include the Angular animations module? Include and enable animations
	
	TODO
		- add registration form
		- create home page (stub)

	WIP connect gateway to microservice	
	
	- unit tests
	- notifications microservice + setup sendgrid
	
Once finished let's refactor what I got so far!	
